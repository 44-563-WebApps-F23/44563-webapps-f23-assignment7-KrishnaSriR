<!DOCTYPE html>
<html> 
    <head>
        <title>Pirate Page</title>  
        <style>
           .location {
                border: 1px solid #000;
           }
           img {
                max-width: 100%;
                max-height: 100%;
                height :150px;
                width: 150px;
            }
            .row {
                display: flex;
                margin: 1px solid #000;
            }
        </style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">    
</head>
<body>
    <h2 style="color: tomato;">Find the treasure by Krishna Sri Rachamanti</h2>
    <div class="container">
    <div style="color: greenyellow;">Click on the locations to search for treasure, beware the traps</div> 
    <div style="color: blueviolet;" id="locations">Number of locations checked is zero.</div>
    <div style="color: salmon;" id="penalty">Penalty is zero.</div> 
    <div style="color: brown;" onclick="help()">Click for help.</div>
    <div style="color: darkcyan;" id="help">Help report</div>
    </div> 
		</br>
    <div class="container">
	<div class="container row">
        <div class="location">
            <img id="i0" src="location.png" onclick="check(0)" alt="locimg">
        </div>

        <div class="location">
            <img id="i1" src="location.png" onclick="check(1)" alt="locimg">
        </div>

        <div class="location">
            <img id="i2"src="location.png" onclick="check(2)" alt="locimg">
        </div>
        
        <div class="location">
            <img id="i3"src="location.png" onclick="check(3)" alt="locimg">
        </div>

        <div class="location">
            <img id="i4"src="location.png" onclick="check(4)" alt="locimg">
        </div>
    </div>

    <div class="container row">
        <div class="location">
            <img id="i5" src="location.png" onclick="check(5)" alt="locimg">
        </div>

        <div class="location">
            <img id="i6" src="location.png" onclick="check(6)" alt="locimg">
        </div>

        <div class="location">
            <img id="i7" src="location.png" onclick="check(7)" alt="locimg">
        </div>
        
        <div class="location">
            <img id="i8" src="location.png" onclick="check(8)" alt="locimg">
        </div>

        <div class="location">
            <img id="i9" src="location.png" onclick="check(9)" alt="locimg">
        </div>
    </div>

    <div class="container row">
        <div class="location">
            <img id="i10" src="location.png" onclick="check(10)" alt="locimg">
        </div>

        <div class="location">
            <img id="i11" src="location.png" onclick="check(11)" alt="locimg">
        </div>

        <div class="location">
            <img id="i12" src="location.png" onclick="check(12)" alt="locimg">
        </div>
        
        <div class="location">
            <img id="i13" src="location.png" onclick="check(13)" alt="locimg">
        </div>

        <div class="location">
            <img id="i14" src="location.png" onclick="check(14)" alt="locimg">
        </div>
    </div>

    <div class="container row">
        <div class="location">
            <img id="i15" src="location.png" onclick="check(15)" alt="locimg">
        </div>

        <div class="location">
            <img id="i16" src="location.png" onclick="check(16)" alt="locimg">
        </div>

        <div class="location">
            <img id="i17" src="location.png" onclick="check(17)" alt="locimg">
        </div>
        
        <div class="location">
            <img id="i18" src="location.png" onclick="check(18)" alt="locimg">
        </div>

        <div class="location">
            <img id="i19" src="location.png" onclick="check(19)" alt="locimg">
        </div>
    </div>

    <div class="container row">
        <div class="location">
            <img id="i20" src="location.png" onclick="check(20)" alt="locimg">
        </div>

        <div class="location">
            <img id="i21" src="location.png" onclick="check(21)" alt="locimg">
        </div>

        <div class="location">
            <img id="i22" src="location.png" onclick="check(22)" alt="locimg">
        </div>
        
        <div class="location">
            <img id="i23" src="location.png" onclick="check(23)" alt="locimg">
        </div>

        <div class="location">
            <img id="i24" src="location.png" onclick="check(24)" alt="locimg">
        </div>
    </div>
    <button class="btn btn-danger" onclick="newGame()">New Game</button>
   </div>
   <script>
    let ids=['i0','i1','i2','i3','i4','i5','i6','i7','i8','i9','i10','i11','i12','i13',
    'i14','i15','i16','i17','i18','i19','i20','i21','i22','i23','i24']
    let checkCount=0
    let penalty=0
    let lastCheck=0
    let treasureLocation=5
    let trapLocation=18
    let gameOver=false
    let result="Help report";

    function check(position){
        if(!gameOver){
            console.log(position)
           let selectedid= ids[position]
           console.log(selectedid)
           if(position==treasureLocation){
                document.getElementById(selectedid).src="treasure.jpg"
                gameOver=true
                penalty-=3
            }
           else if(position==trapLocation){
                document.getElementById(selectedid).src="trap.jpg"
                gameOver=true
                penalty+=4
            }
            else{
                document.getElementById(selectedid).src="pirate.png"
            }
                checkCount++
                penalty++
        
            lastCheck=position
            console.log("checkCount"+checkCount)
            console.log("penality"+penalty)
            document.getElementById("locations").innerHTML="Number of locations checked is "+checkCount+"."
            document.getElementById("penalty").innerHTML="Penalty is "+penalty+"."
            document.getElementById("help").innerHTML = result;
            //document.getElementById("penalty").innerHTML="Penalty is "+penalty+"."

            
        
        }
        if(gameOver){
            return
        }

    }
    function help(){
        res=" "
            if (gameOver) 
            return res;
        console.log("lastCheck"+lastCheck)
        let row = Math.floor(lastCheck / 5);
        console.log("row"+row)
        let col = lastCheck % 5;
        console.log("col"+col)
        let treasureRow = Math.floor(treasureLocation / 5);
        console.log("treasureRow"+treasureRow)
        let treasureCol = treasureLocation % 5;
        console.log("treasureCol"+treasureCol)
        console.log("result"+res)

        if(Math.abs(treasureRow - row) <= 1 && Math.abs(treasureCol - col) <= 1){
            res="Can smell it";
            console.log("result"+res)

        }
        if(Math.abs(treasureRow - row) + Math.abs(treasureCol - col) == 2){
            res="Close Matie"
            console.log("result"+res)

        }
        if(!(Math.abs(treasureRow - row) <= 1 && Math.abs(treasureCol - col) <= 1 )&& !(Math.abs(treasureRow - row) + Math.abs(treasureCol - col) == 2)){
            res="Step Faster"
            console.log("result"+res)

        }
        penalty += 2
        document.getElementById("help").innerHTML =res;
        document.getElementById("penalty").innerHTML="Penalty is "+penalty+"."
        return res
       
    }
    function newGame(){
        console.log("new gamebegins")
     treasureLocation = Math.floor(Math.random() * 25);
    console.log("treasureLocation : "+treasureLocation);
     trapLocation=Math.floor(Math.random() * 25);
    console.log("trapLocation : "+trapLocation);
    checkCount=0
    penalty=0
    }
           

    

   </script>
</body>
</html>	